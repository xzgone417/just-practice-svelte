window.__require=function t(o,i,e){function c(h,s){if(!i[h]){if(!o[h]){var l=h.split("/");if(l=l[l.length-1],!o[l]){var a="function"==typeof __require&&__require;if(!s&&a)return a(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+h+"'")}h=l}var r=i[h]={exports:{}};o[h][0].call(r.exports,function(t){return c(o[h][1][t]||t)},r,r.exports,t,o,i,e)}return i[h].exports}for(var n="function"==typeof __require&&__require,h=0;h<e.length;h++)c(e[h]);return c}({blockTX:[function(t,o){"use strict";cc._RF.push(o,"fba4bjuYR1HZK7KSSKtWylT","blockTX"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},showBlock:function(t){this.i_type=t;for(var o=this.node.children,i=0;i<o.length;i++)o[i].name==this.i_type?o[i].active=!0:o[i].active=!1}}),cc._RF.pop()},{}],blockTouch:[function(t,o){"use strict";cc._RF.push(o,"271a3pjO4hOd4hn19jhzvXF","blockTouch"),cc.Class({extends:cc.Component,properties:{spf_block:{type:[cc.SpriteFrame],default:[]}},onLoad:function(){},init:function(t,o){this.xingZhuang=o,this.pos_start=t,this.isTouch=!1,this.i_blockType=Math.floor(Math.random()*this.spf_block.length);for(var i=this.node.children,e=0;e<i.length;e++)1==i[e].name&&(i[e].getComponent(cc.Sprite).spriteFrame=this.spf_block[this.i_blockType])},touch:function(){this.isTouch=!0,this.node.scale=1},fuWei:function(){28==this.xingZhuang||29==this.xingZhuang?this.node.scale=.45:this.node.scale=.6,this.isTouch=!1,this.node.setPosition(this.pos_start)},getPosWorld:function(){for(var t=cc.v2(0,0),o=this.node.children,i=0;i<o.length;i++)if(1==o[i].name){t=this.node.convertToWorldSpaceAR(o[i].getPosition());break}return t},start:function(){}}),cc._RF.pop()},{}],block:[function(t,o){"use strict";cc._RF.push(o,"bbca5vWCU9O8J0nVeQ/kvA9","block"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t,o,i){this.ii=o,this.jj=i,this.i_type=t,this.yanSe_8=t,this.is_8=!1,this.showBlock()},showBlock:function(t){this.i_type=t;for(var o=this.node.children,i=0;i<o.length;i++)o[i].name==this.i_type?o[i].active=!0:o[i].active=!1},chenge_8:function(t){this.yanSe_8=t;for(var o=this.node.children,i=0;i<o.length;i++)o[i].name==t?o[i].active=!0:o[i].active=!1},huiFu_8:function(){for(var t=this.node.children,o=0;o<t.length;o++)t[o].name==this.i_type?t[o].active=!0:t[o].active=!1},start:function(){}}),cc._RF.pop()},{}],game:[function(t,o){"use strict";cc._RF.push(o,"f9ebcXzKyFGaZxrTWZAUqaR","game"),cc.Class({extends:cc.Component,properties:{pre_block_bg:{type:cc.Prefab,default:null},pre_block:{type:cc.Prefab,default:null},pre_blockTX:{type:cc.Prefab,default:null},layout_bg:{type:cc.Node,default:null},layout_block:{type:cc.Node,default:null},layout_blockTX:{type:cc.Node,default:null},node_score_curr:{type:cc.Node,default:null},node_score_best:{type:cc.Node,default:null},audio_arr:{type:[cc.AudioClip],default:[]},pre_layout_block:{type:[cc.Prefab],default:[]}},onLoad:function(){console.log("onLoad"),console.log("wx:cocoscreator_666"),console.log("QQ:2504549300"),this.userData={u_score_curr:0,u_score_best:0,u_arr_block:[]},this.layerOver=this.node.getChildByName("layer_over"),this.bg_1=this.node.getChildByName("bg").getChildByName("bg_1"),this.bg_2=this.node.getChildByName("bg").getChildByName("bg_2"),this.bg_3=this.node.getChildByName("bg").getChildByName("bg_3"),this.f_fbl=cc.director.getWinSizeInPixels(),this.bg_1.scale=this.f_fbl.width/720,this.bg_2.scale=this.f_fbl.width/720,this.bg_3.scale=this.f_fbl.width/720,this.layerOver.getChildByName("sp_title").scale=this.f_fbl.width/720,this.layerOver.getChildByName("btn_rePlay").scale=this.f_fbl.width/720,console.log("w:"+this.f_fbl.width+" h:"+this.f_fbl.height),this.btn_sound=this.bg_1.getChildByName("btn_sound"),this.btn_rePlay=this.bg_1.getChildByName("btn_rePlay"),this.bg_best=this.bg_1.getChildByName("bg_best"),this.bg_score=this.bg_1.getChildByName("bg_score"),this.addBlockBg(),this.addBlock(),this.addBlockTX(),this.init(),this.is_sound=!0,this.btn_sound.getChildByName("label_x").active=!1,this.bg_music=cc.audioEngine.play(this.audio_arr[0],!0,1),this.setTouch()},act_pause:function(){if(this.is_pause){this.btn_sound.active=!0,this.btn_rePlay.active=!0;var t=cc.moveTo(.2,-428,5);this.bg_best.runAction(t),t=cc.moveTo(.2,-175,5),this.bg_score.runAction(t),t=cc.moveTo(.2,6,0),this.btn_sound.runAction(t),t=cc.moveTo(.2,136,0),this.btn_rePlay.runAction(t),t=cc.moveTo(.2,-200,0),this.bg_best.runAction(t)}else{t=cc.moveTo(.2,-178,5),this.bg_best.runAction(t),t=cc.moveTo(.2,85,5),this.bg_score.runAction(t),t=cc.moveTo(.2,266,0);var o=cc.callFunc(function(){this.btn_sound.active=!1}.bind(this)),i=cc.sequence(t,o);this.btn_sound.runAction(i),t=cc.moveTo(.2,266,0),o=cc.callFunc(function(){this.btn_rePlay.active=!1}.bind(this)),i=cc.sequence(t,o),this.btn_rePlay.runAction(i)}},init:function(){this.isGame_over=!1,this.layerOver.active=!1,this.is_pause=!1,this.act_pause(),this.saveUserDate(),this.node_score_curr.getComponent(cc.Label).string=this.userData.u_score_curr,this.node_score_best.getComponent(cc.Label).string=this.userData.u_score_best;var t=this.layout_block.children;if(0==this.userData.u_arr_block.length)for(var o=0;o<t.length;o++)t[o].opacity=0;else for(var i=0;i<t.length;i++){t[i].opacity=this.userData.u_arr_block[i];var e=Math.floor(6*Math.random());t[i].getComponent("block").showBlock(e)}for(this.addBlockTouch();this.pdGameOver_2();)this.addBlockTouch()},saveUserDate:function(){},shuaXinArrBlock:function(){this.userData.u_arr_block=[];for(var t=this.layout_block.children,o=0;o<t.length;o++)this.userData.u_arr_block.push(0);for(var i=0;i<t.length;i++)this.userData.u_arr_block[i]=t[i].opacity},setTouch:function(){this.node.on("touchstart",function(t){if(!this.isGame_over){console.log("touchstart");for(var o=t.getLocation(),i=this.bg_3.convertToNodeSpaceAR(o),e=this.bg_3.children,c=0;c<e.length;c++)if((n=e[c].getComponent("blockTouch"))&&e[c].getBoundingBox().contains(i)){if(100==e[c].opacity)return;var n;this.is_sound&&cc.audioEngine.play(this.audio_arr[1],!1,1),this.pos_touch_start=cc.v2(e[c].x,e[c].y+150),e[c].setPosition(this.pos_touch_start),(n=e[c].getComponent("blockTouch"))&&n.touch(),console.log("\u70b9\u4e2d\u4e86"),this.pdJuLi_block()}console.log("x:"+i.x+"y:"+i.y)}},this),this.node.on("touchmove",function(t){if(!this.isGame_over)for(var o=this.bg_3.children,i=0;i<o.length;i++){var e=o[i].getComponent("blockTouch");if(e&&e.isTouch){var c=t.getDelta();this.pos_touch_start.x=this.pos_touch_start.x+c.x,this.pos_touch_start.y=this.pos_touch_start.y+c.y,o[i].setPosition(this.pos_touch_start),this.pdJuLi_block()}}},this),this.node.on("touchend",function(){if(!this.isGame_over){console.log("touchend");for(var t=this.bg_3.children,o=0;o<t.length;o++){var i=t[o].getComponent("blockTouch");i&&i.isTouch&&(this.xianShiBlock_100_255()?(t[o].removeFromParent(),this.pdCreateNewTouchBlock()):(console.log("\u590d\u4f4d"),i.fuWei()))}this.clean_8(),this.touchBlockShow(),this.shuaXinArrBlock(),this.pdGameOver(),this.saveUserDate()}},this),this.node.on("touchcancel",function(){if(!this.isGame_over){console.log("touchcancel");for(var t=this.bg_3.children,o=0;o<t.length;o++){var i=t[o].getComponent("blockTouch");i&&i.isTouch&&(this.xianShiBlock_100_255()?(t[o].removeFromParent(),this.pdCreateNewTouchBlock()):i.fuWei())}this.clean_8(),this.touchBlockShow(),this.shuaXinArrBlock(),this.pdGameOver(),this.saveUserDate()}},this)},pdCreateNewTouchBlock:function(){if(1==this.bg_3.children.length){for(this.addBlockTouch();this.pdGameOver_2();)this.addBlockTouch();this.pdGameOver()}},addBlockTouch:function(){for(var t=this.bg_3.children,o=t.length-1;o>=0;o--)(n=t[o].getComponent("blockTouch"))&&t[o].removeFromParent();for(var i=0;i<3;i++){var e=Math.floor(Math.random()*this.pre_layout_block.length),c=cc.instantiate(this.pre_layout_block[e]);c.parent=this.bg_3;var n=c.getComponent("blockTouch"),h=cc.v2(927,12);0==i?h=cc.v2(755,12):2==i&&(h=cc.v2(1100,12)),c.setPosition(h);var s=cc.moveTo(.5,c.x-1e3,12);c.runAction(s);var l=c.name;c.scale=28==l||29==l?.45:.6;var a=cc.v2(h.x-1e3,12);n&&n.init(a,l)}this.touchBlockShow()},addBlockBg:function(){for(var t=0;t<64;t++){var o=cc.instantiate(this.pre_block_bg);o.parent=this.layout_bg;var i=Math.floor(t/8),e=t%8;o.getChildByName("label").getComponent(cc.Label).string=i+","+e}},addBlock:function(){for(var t=0;t<64;t++){var o=cc.instantiate(this.pre_block);o.parent=this.layout_block,o.opacity=0;var i=o.getComponent("block");if(i){var e=Math.floor(t/8),c=t%8;i.init(5,e,c)}}},addBlockTX:function(){for(var t=0;t<64;t++){var o=cc.instantiate(this.pre_blockTX);o.parent=this.layout_blockTX,o.opacity=0}},pdJuLi_block:function(){for(var t=cc.v2(0,0),o=0,i=0,e=this.bg_3.children,c=0;c<e.length;c++){var n=e[c].getComponent("blockTouch");if(n&&n.isTouch){var h=n.getPosWorld();t=this.layout_block.convertToNodeSpaceAR(h),o=n.i_blockType,i=n.xingZhuang,console.log("touchWorldPosition = "+h+", touchBlockPosition = "+t)}}this.yinCangBlock_100_0();for(var s=this.layout_block.children,l=0;l<s.length;l++){var a=s[l].getPosition(),r=a.x-t.x,u=a.y-t.y;if(Math.sqrt(r*r+u*u)<50&&0==s[l].opacity){var _=s[l].getComponent("block");if(0==i)s[l].opacity=100,_.showBlock(o);else if(1==i&&_.jj<7){var g=[0,1];this.pdBlock_100(g,l,o)}else 2==i&&_.ii<7?(g=[0,8],this.pdBlock_100(g,l,o)):3==i&&_.jj<6?(g=[0,1,2],this.pdBlock_100(g,l,o)):4==i&&_.ii<6?(g=[0,8,16],this.pdBlock_100(g,l,o)):5==i&&_.ii<7&&_.jj<7?(g=[0,1,8,9],this.pdBlock_100(g,l,o)):6==i&&_.ii<7&&_.jj<7&&_.jj>0?(g=[0,1,7,8],this.pdBlock_100(g,l,o)):7==i&&_.ii<6&&_.jj<8&&_.jj>0?(g=[0,7,8,15],this.pdBlock_100(g,l,o)):8==i&&_.ii<7&&_.jj<8&&_.jj>0?(g=[0,7,8],this.pdBlock_100(g,l,o)):9==i&&_.ii<7&&_.jj<7?(g=[0,1,8],this.pdBlock_100(g,l,o)):10==i&&_.ii<7&&_.jj<7?(g=[0,1,9],this.pdBlock_100(g,l,o)):11==i&&_.ii<7&&_.jj<7?(g=[0,8,9],this.pdBlock_100(g,l,o)):12==i&&_.ii<6&&_.jj<7?(g=[0,1,8,16],this.pdBlock_100(g,l,o)):13==i&&_.ii<6&&_.jj<8&&_.jj>0?(g=[0,8,15,16],this.pdBlock_100(g,l,o)):14==i&&_.ii<6&&_.jj<7?(g=[0,8,16,17],this.pdBlock_100(g,l,o)):15==i&&_.ii<7&&_.jj<6?(g=[0,8,9,10],this.pdBlock_100(g,l,o)):16==i&&_.ii<7&&_.jj<6?(g=[0,1,2,10],this.pdBlock_100(g,l,o)):17==i&&_.ii<7&&_.jj>1?(g=[0,6,7,8],this.pdBlock_100(g,l,o)):18==i&&_.ii<6&&_.jj>0?(g=[0,16,7,8],this.pdBlock_100(g,l,o)):19==i&&_.ii<6&&_.jj<7?(g=[0,8,9,16],this.pdBlock_100(g,l,o)):20==i&&_.ii<7&&_.jj>0&&_.jj<7?(g=[0,8,9,7],this.pdBlock_100(g,l,o)):21==i&&_.ii<7&&_.jj<6?(g=[0,1,9,2],this.pdBlock_100(g,l,o)):22==i&&_.ii<6&&_.jj<7&&_.jj>0?(g=[0,9,7,8,16],this.pdBlock_100(g,l,o)):23==i&&_.ii<6&&_.jj<8&&_.jj>1?(g=[0,8,14,15,16],this.pdBlock_100(g,l,o)):24==i&&_.ii<6&&_.jj<6?(g=[0,1,2,8,16],this.pdBlock_100(g,l,o)):25==i&&_.ii<6&&_.jj<6?(g=[0,1,2,10,18],this.pdBlock_100(g,l,o)):26==i&&_.ii<6&&_.jj<6?(g=[0,8,16,17,18],this.pdBlock_100(g,l,o)):27==i&&_.ii<6&&_.jj<6?(g=[0,1,2,8,9,10,16,17,18],this.pdBlock_100(g,l,o)):28==i&&_.ii<8&&_.jj<5?(g=[0,1,2,3],this.pdBlock_100(g,l,o)):29==i&&_.ii<5&&_.jj<8&&(g=[0,8,16,24],this.pdBlock_100(g,l,o));break}}this.pdMan_8(o)},touchBlockShow:function(){for(var t=this.bg_3.children,o=0;o<t.length;o++){var i=t[o].getComponent("blockTouch");if(i){var e=!1;if(0==i.xingZhuang)e=!0;else if(1==i.xingZhuang)for(var c=this.layout_block.children,n=0;n<c.length;n++){var h=c[n].getComponent("block");if(0==c[n].opacity&&h.jj<7){var s=[0,1];this.pdBlockTouch(s,n)&&(e=!0)}}else if(2==i.xingZhuang){c=this.layout_block.children;for(var l=0;l<c.length;l++)h=c[l].getComponent("block"),0==c[l].opacity&&h.ii<7&&(s=[0,8],this.pdBlockTouch(s,l)&&(e=!0))}else if(3==i.xingZhuang){c=this.layout_block.children;for(var a=0;a<c.length;a++)h=c[a].getComponent("block"),0==c[a].opacity&&h.jj<6&&(s=[0,1,2],this.pdBlockTouch(s,a)&&(e=!0))}else if(4==i.xingZhuang){c=this.layout_block.children;for(var r=0;r<c.length;r++)h=c[r].getComponent("block"),0==c[r].opacity&&h.ii<6&&(s=[0,8,16],this.pdBlockTouch(s,r)&&(e=!0))}else if(5==i.xingZhuang){c=this.layout_block.children;for(var u=0;u<c.length;u++)h=c[u].getComponent("block"),0==c[u].opacity&&h.ii<7&&h.jj<7&&(s=[0,1,8,9],this.pdBlockTouch(s,u)&&(e=!0))}else if(6==i.xingZhuang){c=this.layout_block.children;for(var _=0;_<c.length;_++)h=c[_].getComponent("block"),0==c[_].opacity&&h.ii<7&&h.jj<7&&h.jj>0&&(s=[0,1,7,8],this.pdBlockTouch(s,_)&&(e=!0))}else if(7==i.xingZhuang){c=this.layout_block.children;for(var g=0;g<c.length;g++)h=c[g].getComponent("block"),0==c[g].opacity&&h.ii<6&&h.jj<8&&h.jj>0&&(s=[0,7,8,15],this.pdBlockTouch(s,g)&&(e=!0))}else if(8==i.xingZhuang){c=this.layout_block.children;for(var d=0;d<c.length;d++)h=c[d].getComponent("block"),0==c[d].opacity&&h.ii<7&&h.jj<8&&h.jj>0&&(s=[0,7,8],this.pdBlockTouch(s,d)&&(e=!0))}else if(9==i.xingZhuang){c=this.layout_block.children;for(var p=0;p<c.length;p++)h=c[p].getComponent("block"),0==c[p].opacity&&h.ii<7&&h.jj<7&&(s=[0,1,8],this.pdBlockTouch(s,p)&&(e=!0))}else if(10==i.xingZhuang){c=this.layout_block.children;for(var b=0;b<c.length;b++)h=c[b].getComponent("block"),0==c[b].opacity&&h.ii<7&&h.jj<7&&(s=[0,1,9],this.pdBlockTouch(s,b)&&(e=!0))}else if(11==i.xingZhuang){c=this.layout_block.children;for(var f=0;f<c.length;f++)h=c[f].getComponent("block"),0==c[f].opacity&&h.ii<7&&h.jj<7&&(s=[0,8,9],this.pdBlockTouch(s,f)&&(e=!0))}else if(12==i.xingZhuang){c=this.layout_block.children;for(var k=0;k<c.length;k++)h=c[k].getComponent("block"),0==c[k].opacity&&h.ii<6&&h.jj<7&&(s=[0,1,8,16],this.pdBlockTouch(s,k)&&(e=!0))}else if(13==i.xingZhuang){c=this.layout_block.children;for(var v=0;v<c.length;v++)h=c[v].getComponent("block"),0==c[v].opacity&&h.ii<6&&h.jj<8&&h.jj>0&&(s=[0,8,15,16],this.pdBlockTouch(s,v)&&(e=!0))}else if(14==i.xingZhuang){c=this.layout_block.children;for(var y=0;y<c.length;y++)h=c[y].getComponent("block"),0==c[y].opacity&&h.ii<6&&h.jj<7&&(s=[0,8,17,16],this.pdBlockTouch(s,y)&&(e=!0))}else if(15==i.xingZhuang){c=this.layout_block.children;for(var j=0;j<c.length;j++)h=c[j].getComponent("block"),0==c[j].opacity&&h.ii<7&&h.jj<6&&(s=[0,8,9,10],this.pdBlockTouch(s,j)&&(e=!0))}else if(16==i.xingZhuang){c=this.layout_block.children;for(var m=0;m<c.length;m++)h=c[m].getComponent("block"),0==c[m].opacity&&h.ii<7&&h.jj<6&&(s=[0,1,2,10],this.pdBlockTouch(s,m)&&(e=!0))}else if(17==i.xingZhuang){c=this.layout_block.children;for(var B=0;B<c.length;B++)h=c[B].getComponent("block"),0==c[B].opacity&&h.ii<7&&h.jj>1&&(s=[0,6,7,8],this.pdBlockTouch(s,B)&&(e=!0))}else if(18==i.xingZhuang){c=this.layout_block.children;for(var T=0;T<c.length;T++)h=c[T].getComponent("block"),0==c[T].opacity&&h.ii<6&&h.jj>0&&(s=[0,16,7,8],this.pdBlockTouch(s,T)&&(e=!0))}else if(19==i.xingZhuang){c=this.layout_block.children;for(var C=0;C<c.length;C++)h=c[C].getComponent("block"),0==c[C].opacity&&h.ii<6&&h.jj<7&&(s=[0,8,9,16],this.pdBlockTouch(s,C)&&(e=!0))}else if(20==i.xingZhuang){c=this.layout_block.children;for(var x=0;x<c.length;x++)h=c[x].getComponent("block"),0==c[x].opacity&&h.ii<7&&h.jj>0&&h.jj<7&&(s=[0,8,9,7],this.pdBlockTouch(s,x)&&(e=!0))}else if(21==i.xingZhuang){c=this.layout_block.children;for(var Z=0;Z<c.length;Z++)h=c[Z].getComponent("block"),0==c[Z].opacity&&h.ii<7&&h.jj<6&&(s=[0,1,9,2],this.pdBlockTouch(s,Z)&&(e=!0))}else if(22==i.xingZhuang){c=this.layout_block.children;for(var N=0;N<c.length;N++)h=c[N].getComponent("block"),0==c[N].opacity&&h.ii<6&&h.jj<7&&h.jj>0&&(s=[0,7,8,9,16],this.pdBlockTouch(s,N)&&(e=!0))}else if(23==i.xingZhuang){c=this.layout_block.children;for(var P=0;P<c.length;P++)h=c[P].getComponent("block"),0==c[P].opacity&&h.ii<6&&h.jj<8&&h.jj>1&&(s=[0,8,14,15,16],this.pdBlockTouch(s,P)&&(e=!0))}else if(24==i.xingZhuang){c=this.layout_block.children;for(var w=0;w<c.length;w++)h=c[w].getComponent("block"),0==c[w].opacity&&h.ii<6&&h.jj<6&&(s=[0,1,2,8,16],this.pdBlockTouch(s,w)&&(e=!0))}else if(25==i.xingZhuang){c=this.layout_block.children;for(var D=0;D<c.length;D++)h=c[D].getComponent("block"),0==c[D].opacity&&h.ii<6&&h.jj<6&&(s=[0,1,2,10,18],this.pdBlockTouch(s,D)&&(e=!0))}else if(26==i.xingZhuang){c=this.layout_block.children;for(var A=0;A<c.length;A++)h=c[A].getComponent("block"),0==c[A].opacity&&h.ii<6&&h.jj<6&&(s=[0,8,16,17,18],this.pdBlockTouch(s,A)&&(e=!0))}else if(27==i.xingZhuang){c=this.layout_block.children;for(var F=0;F<c.length;F++)h=c[F].getComponent("block"),0==c[F].opacity&&h.ii<6&&h.jj<6&&(s=[0,1,2,8,9,10,16,17,18],this.pdBlockTouch(s,F)&&(e=!0))}else if(28==i.xingZhuang){c=this.layout_block.children;for(var S=0;S<c.length;S++)h=c[S].getComponent("block"),0==c[S].opacity&&h.ii<8&&h.jj<5&&(s=[0,1,2,3],this.pdBlockTouch(s,S)&&(e=!0))}else if(29==i.xingZhuang){c=this.layout_block.children;for(var O=0;O<c.length;O++)h=c[O].getComponent("block"),0==c[O].opacity&&h.ii<5&&h.jj<8&&(s=[0,8,16,24],this.pdBlockTouch(s,O)&&(e=!0))}t[o].opacity=e?255:100}}},pdMan_8:function(t){for(var o=this.layout_block.children,i=0;i<o.length;i++)(u=o[i].getComponent("block"))&&(u.is_8=!1);for(var e=0;e<8;e++){for(var c=!0,n=0;n<8;n++)0==o[8*e+n].opacity&&(c=!1);if(c)for(var h=0;h<8;h++)(u=o[8*e+h].getComponent("block"))&&(u.is_8=!0)}for(var s=0;s<8;s++){c=!0;for(var l=0;l<8;l++)0==o[s+8*l].opacity&&(c=!1);if(c)for(var a=0;a<8;a++)(u=o[s+8*a].getComponent("block"))&&(u.is_8=!0)}for(var r=0;r<o.length;r++){var u;(u=o[r].getComponent("block"))&&(u.is_8?u.chenge_8(t):u.huiFu_8())}},clean_8:function(){for(var t=!1,o=this.layout_blockTX.children,i=this.layout_block.children,e=0;e<i.length;e++){var c=i[e].getComponent("block");if(c&&c.is_8){t=!0,c.is_8=!1,i[e].opacity=0,this.addScore(),o[e].stopAllActions(),o[e].opacity=255,o[e].getComponent("blockTX").showBlock(c.yanSe_8);var n=cc.scaleTo(.1,.5),h=cc.scaleTo(.1,1),s=cc.scaleTo(.1,.5),l=cc.scaleTo(.1,1),a=cc.fadeOut(.1),r=cc.sequence(n,h,s,l,a);o[e].runAction(r)}}t&&this.is_sound&&cc.audioEngine.play(this.audio_arr[3],!1,1)},pdGameOver:function(){this.isGame_over=!0;for(var t=this.bg_3.children,o=0;o<t.length;o++)t[o].getComponent("blockTouch")&&255==t[o].opacity&&(this.isGame_over=!1);if(this.isGame_over){this.userData.u_score_curr=0,this.userData.u_arr_block=[],this.saveUserDate(),this.layerOver.active=!0,this.layerOver.scale=0;var i=cc.delayTime(1),e=cc.callFunc(function(){this.is_sound&&cc.audioEngine.play(this.audio_arr[5],!1,1)}.bind(this)),c=cc.scaleTo(.25,1),n=cc.sequence(i,e,c);this.layerOver.runAction(n)}},pdGameOver_2:function(){for(var t=this.bg_3.children,o=0;o<t.length;o++)if(t[o].getComponent("blockTouch")&&255==t[o].opacity)return!1;return!0},pdBlock_100:function(t,o,i){for(var e=this.layout_block.children,c=t,n=o,h=i,s=0,l=0;l<c.length;l++)n+c[l]<64&&0==e[n+c[l]].opacity&&s++;if(s==c.length)for(var a=0;a<c.length;a++)n+c[a]<64&&(e[n+c[a]].opacity=100,e[n+c[a]].getComponent("block").showBlock(h))},pdBlockTouch:function(t,o){for(var i=this.layout_block.children,e=t,c=o,n=0,h=0;h<e.length;h++)c+e[h]<64&&0==i[c+e[h]].opacity&&n++;return n==e.length},yinCangBlock_100_0:function(){for(var t=this.layout_block.children,o=0;o<t.length;o++)100==t[o].opacity&&(t[o].opacity=0)},xianShiBlock_100_255:function(){for(var t=!1,o=this.layout_block.children,i=0;i<o.length;i++)100==o[i].opacity&&(o[i].opacity=255,t=!0,this.addScore());return t&&this.is_sound&&cc.audioEngine.play(this.audio_arr[4],!1,1),t},start:function(){console.log("start")},btn_callBack:function(t,o){if(this.is_sound&&cc.audioEngine.play(this.audio_arr[2],!1,1),"btn_huanYiHuan"==o){if(this.isGame_over)return;this.btnHuanYiHuan()}else"btn_rePlay"==o?(this.userData.u_arr_block=[],this.userData.u_score_curr=0,this.saveUserDate(),this.init()):"btn_sound"==o?(this.is_sound=!this.is_sound,this.is_sound?(this.btn_sound.getChildByName("label_x").active=!1,this.bg_music=cc.audioEngine.play(this.audio_arr[0],!0,1)):(this.btn_sound.getChildByName("label_x").active=!0,cc.audioEngine.stop(this.bg_music))):"btn_pause"==o&&(this.is_pause=!this.is_pause,this.act_pause())},btnHuanYiHuan:function(){for(var t=this.bg_3.children,o=t.length-1;o>=0;o--)t[o].getComponent("blockTouch")&&t[o].removeFromParent();for(this.addBlockTouch();this.pdGameOver_2();)this.addBlockTouch();this.pdGameOver()},addScore:function(){this.userData.u_score_curr++,this.node_score_curr.getComponent(cc.Label).string=this.userData.u_score_curr,this.userData.u_score_best<this.userData.u_score_curr&&(this.userData.u_score_best=this.userData.u_score_curr),this.node_score_best.getComponent(cc.Label).string=this.userData.u_score_best}}),cc._RF.pop()},{}]},{},["block","blockTX","blockTouch","game"]);